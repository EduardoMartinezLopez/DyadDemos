"""
Defines the forced angular movement of a spline based on an input acceleration signal.

This component models a rotational element where the angular acceleration of a spline, relative to its support, is directly driven by an external input signal, `a_ref`.
It calculates the relative angle `phi` between the spline and its support. The relative angular velocity `w` and angular acceleration `a` are then determined as the time derivatives of `phi`:
```math
w = \frac{d\\phi}{dt}
```
```math
a = \frac{dw}{dt} = \frac{d^2\\phi}{dt^2}
```
The primary function of this component is to ensure that the calculated relative angular acceleration `a` of the spline equates to the provided input signal `a_ref`:
```math
a = a_{ref}
```
This makes the component act as a source of prescribed acceleration for the spline's motion relative to its support.
"""
component AccelerationSource
  extends PartialElementaryOneSplineAndSupport
  "Absolute angular acceleration of spline with respect to support as input signal"
  a_ref = RealInput() {^a_ref}
  "Rotation angle of spline with respect to support"
  variable phi::Angle
  "Angular velocity of spline with respect to support"
  variable w::AngularVelocity
  "Angular acceleration of spline with respect to support"
  variable a::AngularAcceleration
relations
  phi = spline.phi - phi_support
  w = der(phi)
  a = der(w)
  a = a_ref
metadata {
  "Dyad": {"icons": {"default": "dyad://RotationalComponents/Pos-Speed-Acc-Move.svg"}},
  "_links": {
    "a_ref": {"Dyad": {"placement": {"icon": {"x1": -50, "y1": 450, "x2": 50, "y2": 550}}}}
  }
}
end