### DO NOT EDIT THIS FILE
### This file is auto-generated by the Dyad command-line compiler.
### If you edit this code it is likely to get overwritten.
### Instead, update the Dyad source code and regenerate this file


@doc Markdown.doc"""
   SimpleVehicle(; name, vehicle_mass_kg, inertia_moment, wheel_radius, damping_coeff, initial_angle, initial_speed)

## Parameters: 

| Name         | Description                         | Units  |   Default value |
| ------------ | ----------------------------------- | ------ | --------------- |
| `vehicle_mass_kg`         |                          | kg  |   2194 |
| `inertia_moment`         |                          | kg.m2  |   3.08 |
| `wheel_radius`         |                          | m  |   0.15 |
| `damping_coeff`         |                          | N.s/m  |   30 |
| `initial_angle`         |                          | rad  |   0 |
| `initial_speed`         |                          | rad/s  |   0 |

## Connectors

 * `shaft` - This connector represents a rotational spline with angle and torque as the potential and flow variables, respectively. ([`Spline`](@ref))
 * `vehicle_speed` - This connector represents a real signal as an output from a component ([`RealOutput`](@ref))
 * `wheel_speed` - This connector represents a real signal as an output from a component ([`RealOutput`](@ref))
"""
@component function SimpleVehicle(; name, vehicle_mass_kg=2194, inertia_moment=3.08, wheel_radius=0.15, damping_coeff=30, initial_angle=0, initial_speed=0)
  __params = Any[]
  __vars = Any[]
  __systems = System[]
  __guesses = Dict()
  __defaults = Dict()
  __initialization_eqs = []
  __eqs = Equation[]

  ### Symbolic Parameters
  append!(__params, @parameters (vehicle_mass_kg::Real = vehicle_mass_kg))
  append!(__params, @parameters (inertia_moment::Real = inertia_moment))
  append!(__params, @parameters (wheel_radius::Real = wheel_radius))
  append!(__params, @parameters (damping_coeff::Real = damping_coeff))
  append!(__params, @parameters (initial_angle::Real = initial_angle))
  append!(__params, @parameters (initial_speed::Real = initial_speed))

  ### Variables
  append!(__vars, @variables (vehicle_speed(t)::Real), [output = true])
  append!(__vars, @variables (wheel_speed(t)::Real), [output = true])

  ### Constants
  __constants = Any[]

  ### Components
  push!(__systems, @named shaft = __Dyad__Spline())
  push!(__systems, @named inertia = RotationalComponents.Inertia(J=inertia_moment))
  push!(__systems, @named wheel = RotationalComponents.IdealRollingWheel(radius=wheel_radius))
  push!(__systems, @named vehicle_mass = TranslationalComponents.Mass(m=vehicle_mass_kg))
  push!(__systems, @named load_damper = TranslationalComponents.Damper(d=damping_coeff))
  push!(__systems, @named ground = TranslationalComponents.Fixed(s0=0))
  push!(__systems, @named housing = RotationalComponents.Fixed(phi0=0))
  push!(__systems, @named load_anchor = TranslationalComponents.Fixed(s0=0))

  ### Guesses

  ### Defaults
  __defaults[inertia.phi] = (initial_angle)
  __defaults[inertia.w] = (initial_speed)

  ### Initialization Equations

  ### Assertions
  __assertions = []

  ### Equations
  push!(__eqs, vehicle_speed ~ vehicle_mass.v)
  push!(__eqs, wheel_speed ~ inertia.w)
  push!(__eqs, connect(shaft, inertia.spline_a))
  push!(__eqs, connect(inertia.spline_b, wheel.spline))
  push!(__eqs, connect(wheel.flange, vehicle_mass.flange_a))
  push!(__eqs, connect(vehicle_mass.flange_b, load_damper.flange_a))
  push!(__eqs, connect(load_damper.flange_b, load_anchor.flange))
  push!(__eqs, connect(wheel.support_t, ground.flange))
  push!(__eqs, connect(wheel.support_r, housing.spline))

  # Return completely constructed System
  return System(__eqs, t, __vars, __params; systems=__systems, defaults=__defaults, guesses=__guesses, name, initialization_eqs=__initialization_eqs, assertions=__assertions)
end
export SimpleVehicle
