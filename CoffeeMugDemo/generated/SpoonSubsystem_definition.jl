### DO NOT EDIT THIS FILE
### This file is auto-generated by the Dyad command-line compiler.
### If you edit this code it is likely to get overwritten.
### Instead, update the Dyad source code and regenerate this file


@doc Markdown.doc"""
   SpoonSubsystem(; name, C_spoon, T0_spoon, G_liquid_contact, Gc_exposed, Gr_exposed)

==============================================================================
SUBSYSTEM 3: Spoon (Thermal Fin Effect)
==============================================================================

## Parameters: 

| Name         | Description                         | Units  |   Default value |
| ------------ | ----------------------------------- | ------ | --------------- |
| `C_spoon`         | ---------------------------------------------------------------------------
Parameters
---------------------------------------------------------------------------
Spoon thermal properties (stainless steel, ~10g teaspoon)                         | J/K  |   10 |
| `T0_spoon`         | J/K                         | K  |   293.15 |
| `G_liquid_contact`         | K (20°C initial, room temp)
Submerged portion contact with liquid (excellent metal-liquid contact)                         | W/K  |   0.2 |
| `Gc_exposed`         | W/K
Exposed portion convection to air (handle/upper portion)                         | --  |   0.02 |
| `Gr_exposed`         | W/K
Exposed portion radiation to surroundings                         | --  |   0.0005 |

## Connectors

 * `liquidInterface` - This connector represents a thermal node with temperature and heat flow as the potential and flow variables, respectively. ([`Node`](@ref))
 * `ambient` - This connector represents a thermal node with temperature and heat flow as the potential and flow variables, respectively. ([`Node`](@ref))
"""
@component function SpoonSubsystem(; name, C_spoon=10, T0_spoon=293.15, G_liquid_contact=0.2, Gc_exposed=0.02, Gr_exposed=0.0005)
  __params = Any[]
  __vars = Any[]
  __systems = System[]
  __guesses = Dict()
  __defaults = Dict()
  __initialization_eqs = []
  __eqs = Equation[]

  ### Symbolic Parameters
  append!(__params, @parameters (C_spoon::Real = C_spoon), [description = "---------------------------------------------------------------------------
Parameters
---------------------------------------------------------------------------
Spoon thermal properties (stainless steel, ~10g teaspoon)"])
  append!(__params, @parameters (T0_spoon::Real = T0_spoon), [description = "J/K"])
  append!(__params, @parameters (G_liquid_contact::Real = G_liquid_contact), [description = "K (20°C initial, room temp)
Submerged portion contact with liquid (excellent metal-liquid contact)"])
  append!(__params, @parameters (Gc_exposed::Real = Gc_exposed), [description = "W/K
Exposed portion convection to air (handle/upper portion)"])
  append!(__params, @parameters (Gr_exposed::Real = Gr_exposed), [description = "W/K
Exposed portion radiation to surroundings"])

  ### Variables

  ### Constants
  __constants = Any[]

  ### Components
  push!(__systems, @named liquidInterface = __Dyad__Node())
  push!(__systems, @named ambient = __Dyad__Node())
  push!(__systems, @named spoonMass = ThermalComponents.HeatCapacitor(C=C_spoon, T0=T0_spoon))
  push!(__systems, @named liquidContact = ThermalComponents.ThermalConductor(G=G_liquid_contact))
  push!(__systems, @named convExposed = ThermalComponents.Convection())
  push!(__systems, @named gcExposed = BlockComponents.Constant(k=Gc_exposed))
  push!(__systems, @named radExposed = ThermalComponents.BodyRadiation(Gr=Gr_exposed))

  ### Guesses

  ### Defaults

  ### Initialization Equations

  ### Assertions
  __assertions = []

  ### Equations
  # ---------------------------------------------------------------------------
  # Submerged portion path: liquid → spoon mass
  # ---------------------------------------------------------------------------
  push!(__eqs, connect(liquidInterface, liquidContact.node_a))
  push!(__eqs, connect(liquidContact.node_b, spoonMass.node))
  # ---------------------------------------------------------------------------
  # Exposed portion convection: spoon → ambient air
  # ---------------------------------------------------------------------------
  push!(__eqs, connect(spoonMass.node, convExposed.solid))
  push!(__eqs, connect(convExposed.fluid, ambient))
  push!(__eqs, connect(gcExposed.y, convExposed.Gc))
  # ---------------------------------------------------------------------------
  # Exposed portion radiation: spoon → ambient
  # ---------------------------------------------------------------------------
  push!(__eqs, connect(spoonMass.node, radExposed.node_a))
  push!(__eqs, connect(radExposed.node_b, ambient))

  # Return completely constructed System
  return System(__eqs, t, __vars, __params; systems=__systems, defaults=__defaults, guesses=__guesses, name, initialization_eqs=__initialization_eqs, assertions=__assertions)
end
export SpoonSubsystem
